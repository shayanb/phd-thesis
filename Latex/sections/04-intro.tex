
% \pagenumbering{arabic}
% \setcounter{page}{1}



% #TODO
% Jeremy's comments on the structure (TODO)
% It is pretty standard... Chapter 1 is an intro and then a chapter-by-chapter summary (basically a copy/paste of the abstract)
% 9:55
% chapter 2 is background info... individual chapters can have background that is "local" to that chapter, but for things that cut accross multiple chapters, place in Chapter 2
% 9:55
% then it is just a chapter for paper
% 9:55
% and then conclusions can be very sparse (e.g., two pages)
% 9:56
% basically what should the reader walk away with
% 9:56
% at the start of each chapter, state if it is published, who your co-authors are, and as needed, a sentence or two on what you specifically did as opposed to your co-authors
% 9:57
% in particular when a co-author is a student
% 9:57
% for me, you can say it was "supervised" by me



% new title? The Hidden Layers of Blockchain: Technical Nuances and their Unforeseen Consequences


\chapter{Introduction} \label{sec:intro}

The impact of blockchain technology on the world is undeniable. It has been a decade since the first blockchain application, Bitcoin, was introduced to the world. Since then, the technology has been adopted by many industries and has been the subject of many research studies. The technology has been used in many applications, from digital cash (\eg Bitcoin~\cite{nakamoto2008bitcoin}), prediction markets~\cite{clark2014decentralizing}, and decentralized governance~\cite{aragonwebsite}. Ethereum, one of the most popular blockchain platform that supports smart contracts, has been the most used platform for developing decentralized applications (DApps). Ethereum has also been used in many applications, from decentralized exchanges (\eg Bancor~\cite{hertzog2017bancor}), crypto-collectibles (\eg CryptoKitties~\cite{cryptokitties}), gambling services (\eg Fomo3D~\cite{fomo3dmedium}), and decentralized governance (\eg DAO).

Even though this technology is new and not fully matured, there are billions of dollars worth of assets stored and transacted on the blockchain, specifically Ethereum blockchain. A perception that crypocurrencies are criminal money has been formed in the public opinion. This perception is not without merit, as there are many cases of fraud and theft in the blockchain space. However, the blockchain technology is not inherently criminal. In fact, the technology has the potential to reduce the crime rate by providing a transparent and immutable ledger.

The main theme of this dissertation is to analyze a few different types of attacks on blockchain networks and applications, and provide solutions to mitigate some of the attacks. Many of these attacks we study are not new and have been studied in the traditional financial systems and are deemed to be illegal activities. However, the decentralized nature of the blockchain applications makes the attacks feasible by many actors and potentially more dangerous. 

%#TODO: more on the crime vs tech here


\section{Contributions and outline} % maybe motivation?
In this dissertation, we showcase specific types of crime that are feasible because of how blockchain technology works. The transparency and public aspects of the blockchain enables more actors to participate in the crime, which previously was only limited to a few actors (e.g. brokers in the traditional financial systems). 

In Chapter~\ref{sec:background}, we offer a concise introduction to the essential concepts necessary for comprehending this dissertation.Each chapter also includes a background section to extend the necessary concepts for the chapter.

In Chapter~\ref{sec:cryptojacking}, we study the cryptojacking concept, its fast paced growth, and the ethical questions surrounding this use of the blockchain technology. We examine the trend towards in-browser mining of cryptocurrencies; in particular, the mining of Monero through Coinhive and similar codebases. In this model, a user visiting a website will download a JavaScript code that executes client-side in her browser, mines a cryptocurrency - typically without her consent or knowledge - and pays out the seigniorage to the website. Websites may consciously employ this as an alternative or to supplement advertisement revenue, may offer premium content in exchange for mining, or may be unwittingly serving the code as a result of a breach (in which case the seigniorage is collected by the attacker). The cryptocurrency Monero is preferred seemingly for its unfriendliness to large-scale ASIC mining that would drive browser-based efforts out of the market, as well as for its purported privacy features. We survey this landscape, conduct some some measurements to establish its prevalence and profitability, outline an ethical framework for considering whether it should be classified as an attack or business opportunity, and make suggestions for the detection,mitigation and/or prevention of browser-based mining for nonconsenting users.


In Chapter~\ref{sec:frontrunning}, we study the frontrunning attacks on blockchain applications, provide a taxonomy of these attacks, and analyze the common mitigation methods. We consider front-running to be a course of action where an entity benefits from prior access to privileged market information about upcoming transactions and trades. Front-running has been an issue in financial instrument markets since the 1970s. With the advent of the blockchain technology, front-running has resurfaced in new forms we explore here, instigated by blockchain’s decentralized and transparent nature. In this chapter, we draw from a scattered body of knowledge and instances of front-running across the top 25 most active decentral applications (DApps) deployed on Ethereum blockchain. Additionally, we carry out a detailed analysis of \textit{Status.im} initial coin offering (ICO) and show evidence of abnormal miner’s behavior indicative of front-running token purchases. Finally, we map the proposed solutions to front-running into useful categories.


In Chapter~\ref{sec:oracles}, we study the oracle implementations on the blockchain, and the attacks on blockchain applications that use oracles. One fundamental limitation of blockchain-based smart contracts is that they execute in a closed environment. Thus, they only have access to data and functionality that is already on the blockchain, or is fed into the blockchain. Any interactions with the real world need to be mediated by a bridge service, which is called an \textit{oracle}. As decentralized applications mature, oracles are playing an increasingly prominent role. With their evolution comes more attacks, necessitating greater attention to their trust model. We dissect the design alternatives for oracles, showcase attacks, and discuss attack mitigation strategies.


In Chapter~\ref{sec:auditing}, we study the auditing of blockchain-based assets and the systematic challenges a company might have to properly audit their crypto-assets. %TODO: fill this in


Lastly, in Chapter~\ref{sec:conclusion}, we provide some concluding remarks and future research prospects.


\section{Other publications}
In this section, we present other publications that are not directly related to the main theme of this dissertation. These publications are the result of collaborations with other researchers and are not included in the main body of this dissertation.

\begin{itemize}

    \item{The Middleman is Dead, Long Live the Middleman: The “trust factor” and the psycho-social implications of blockchain ~\cite{gaggioli2019middleman}}: Blockchain is widely regarded as a breakthrough innovation that may have a profound impact on the economy and society, of a magnitude comparable to the effects of the introduction of the Internet itself. In essence, a blockchain is a decentralized peer-to-peer network with no central authority figure, which adds information to the distributed database by collectively validating the accuracy of data. Since each node of the network participates in the review and confirmation of the new information before being accepted, the need for a trustworthy intermediary is eliminated. However, as trust plays an essential role in affecting decisions when transacting with one another, it is important to understand which implications the decentralized nature of blockchain may have on individuals' sense of trust. In this contribution, we argue that the adoption of blockchain is not only a technological, but foremostly a psychological challenge, which crucially depends on the possibility of creating a trust management approach that matches the underlying distributed communication system. We first describe the decentralization technologies and possibilities they hold for the near future. Next, we discuss the psycho-social implications of the introduction of decentralized processes of trust, examining some potential scenarios, and outline a research agenda.

    \item{Resolving the multiple withdrawal attack on erc20 tokens~\cite{rahimian2019resolving}:} Custom tokens are an integral component of decentralized applications (dapps) deployed on Ethereum and other blockchain platforms. For Ethereum, the ERC20 standard is a widely used token interface and is interoperable with many existing dapps, user interface platforms, and popular web applications (e.g., exchange services). An ERC20 security issue, known as the multiple withdrawal attack, was raised on GitHub and has been open since October 2017. The issue concerns ERC20's defined method approve() which was envisioned as a way for token holders to give permission for other users and dapps to withdraw a capped number of tokens. The security issue arises when a token holder wants to adjust the amount of approved tokens from N to M (this could be an increase or decrease). If malicious, a user or dapp who is approved for N tokens can front-run the adjustment transaction to first withdraw N tokens,then allow the approval to be confirmed, and withdraw an additional M tokens. In this paper, we evaluate 10 proposed mitigations for this issues and find that no solution is fully satisfactory. We then propose 2 new solutions that mitigate the attack, one of which fully fulfills constraints of the standard, and the second one shows a general limitation in addressing this issue from ERC20’s approve method.



\end{itemize}
